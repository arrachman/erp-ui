(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"90d85001242f09b43bdd":function(e,t,r){"use strict";var n,o=r("8af190b70a6bc55c6f1b"),i=r.n(o),a=r("d7dd51e1bf6bfc2c9c3d"),c=r("4dd2a92e69dcbe1bab10"),l=r("e7e2445039a23e2e0d37"),u=r("786fabb534d747d6ef62"),f=r("903307d6c937d9e696bc"),s=r("c85a7d2ec4fe8cd74960"),p=r("c682ef2b486d3188e6e5"),d=r("545f06b689f81cc12a65");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,r,o){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"===typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,r,n,o=w(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),I(R(t=o.call(this,e)),"showDataPage",(function(e,r){var n=t.props,o=n.params;(0,n.fetchData)({filter:r=void 0==r?"":r,sort:o.sort,page:e,limit:o.limit})})),I(R(t),"keyMap",{ctrl_r:"ctrl+r",ctrl_b:"ctrl+b",ctrl_f:"ctrl+f",ctrl_shif_f:"ctrl+shift+f"}),I(R(t),"handlers",{ctrl_r:function(e){t.showDataPage(1,""),e.preventDefault()},ctrl_b:function(e){var r=t.props,n=r.addNew,o=r.closeForm,i=r.dataTable;r.openForm?o():n(i),e.preventDefault()},ctrl_f:function(e){var r=t.props,n=r.valSearchField;(0,r.setSearchGlobal)(!0,!0,n),e.preventDefault()},ctrl_shif_f:function(e){var r=t.props;(0,r.addNewFilter)(r.dataColumn),e.preventDefault()}}),T=e.params.primaryKey,E=e.params.source,t.showDataPage(1,""),t.setTextInputRef=function(e){e&&(N[e.id]=e)},N.filter={},t.setRefFilter=function(e){e&&(N.filter[e.id]=e)},t}return t=a,(r=[{key:"componentWillMount",value:function(){(0,this.props.setDefault)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.editingId,n=t.params,o=t.openForm,i=t.openFormFilter,a=n.inputFilter,c=n.inputForm;if(!o&&e.openForm&&N.divCRUD.focus(),o&&!e.openForm)if(""===r)N.divForm.focus(),N[T].focus();else{var l,u=function(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(c.entries());try{for(u.s();!(l=u.n()).done;){var f=b(l.value,2),s=(f[0],f[1]);if(s.id!==T){N.divForm.focus(),N[s.id].focus();break}}}catch(e){u.e(e)}finally{u.f()}}i&&!e.openFormFilter&&(N.filter.divFormFilter.focus(),N.filter[a[0].id].focus())}},{key:"render",value:function(){var e=this.props,t=e.params,r=e.openFormFilter,n=e.closeFormFilter,o=e.addNewFilter,a=e.submitForm,m=e.last_page,b=e.isSubmitting,y=e.editingId,F=e.addNew,g=e.closeForm,v=e.removeRow,w=e.editRow,S=e.dataTable,R=e.openForm,_=e.initValues,I=e.closeNotif,D=e.messageNotif,O=e.showSearchField,T=e.isFocusedField,E=e.valSearchField,N=e.setSearchGlobal,j=t.dataColumn,C=t.inputFilter;return A=this.props.page,P=this.props.limit,console.log("initValues",_),i.a.createElement("div",{id:"divCRUD",ref:this.setTextInputRef},h(d.HotKeys,{keyMap:this.keyMap,handlers:this.handlers},void 0,h(c.o,{title:"CRUD",icon:"ios-arrow-round-forward",desc:"CRUD"},void 0,h(c.m,{close:function(){return I()},message:D}),h(s.a,{openForm:R,closeForm:g,editingId:y,setRef:this.setTextInputRef},void 0,h(l.a,{submitForm:a,openForm:R,initValues:_,closeForm:g,editingId:y,isSubmitting:b,params:t,setRef:this.setTextInputRef})),h(p.a,{openFormFilter:r,closeFormFilter:n,setRef:this.setRefFilter},void 0,h(u.a,{inputFilter:C,closeFormFilter:n,showDataPage:this.showDataPage,setRef:this.setRefFilter})),h(f.a,{params:t,addNew:F,addNewFilter:o,items:S,removeRow:v,editRow:w,anchor:j,showDataPage:this.showDataPage,showSearchField:O,isFocusedField:T,setSearchGlobal:N,valSearchField:E,setRef:this.setTextInputRef}),h(c.n,{curpage:A,totpages:m,boundaryPagesRange:1,siblingPagesRange:1,hideEllipsis:!1,onChange:this.showDataPage}))))}}])&&g(t.prototype,r),n&&g(t,n),a}(i.a.Component),O="crudTbFrmDemo",T="",E="",A="",P="",N={};t.a=Object(a.connect)((function(e){return{isSubmitting:e.getIn([O,"isSubmitting"]),initValues:e.getIn([O,"formValuesInput"]),dataTable:e.getIn([O,"dataTable"]),openForm:e.getIn([O,"showFrm"]),openFormFilter:e.getIn([O,"showFrmFilter"]),messageNotif:e.getIn([O,"notifMsg"]),editingId:e.getIn([O,"editingId"]),page:e.getIn([O,"page"]),limit:e.getIn([O,"limit"]),last_page:e.getIn([O,"last_page"]),showSearchField:e.getIn([O,"showSearchField"]),isFocusedField:e.getIn([O,"isFocusedField"])}}),(function(e){return{fetchData:function(t){return e({type:"".concat(O,"/GET_DATA"),branch:O,pagging:t,source:E,primaryKey:T})},submitForm:function(t,r){return e({type:"".concat(O,"/SUBMIT_DATA"),branch:O,newData:t,editingId:r,source:E,primaryKey:T})},addNew:function(t){return e({type:"".concat(O,"/ADD_NEW"),branch:O,anchor:t})},addNewFilter:function(t){return e({type:"".concat(O,"/ADD_NEW_FILTER"),branch:O,anchor:t})},closeForm:function(){return e({type:"".concat(O,"/CLOSE_FORM"),branch:O})},closeFormFilter:function(){return e({type:"".concat(O,"/CLOSE_FORM_FILTER"),branch:O})},removeRow:function(t){return e({type:"".concat(O,"/REMOVE_ROW_FORM"),branch:O,item:t,pagging:{page:A,limit:P},source:E,primaryKey:T})},editRow:function(t){return e({type:"".concat(O,"/EDIT_ROW_FORM"),branch:O,item:t})},closeNotif:function(){return e({type:"".concat(O,"/CLOSE_NOTIF"),branch:O})},setDefault:function(){return e({type:"".concat(O,"/SET_DEFAULT"),branch:O})},setSearchGlobal:function(t,r,n){return e({type:"".concat(O,"/SET_SEARCH_GLOBAL"),branch:O,showSearchField:t,isFocusedField:r,valSearchField:n})}}}))(D)}}]);